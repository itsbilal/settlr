<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta charset="utf-8">
		<title>Settlr</title>
		<meta name="generator" content="Bootply" />
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://js.arcgis.com/3.15/esri/css/esri.css">
		<!--[if lt IE 9]>
			<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<link href="/stylesheets/style.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
    <script src="https://js.arcgis.com/3.15/"></script>
    <script src="javascript/results.js"></script>
    <script>
      var map;

      require(["esri/map", "esri/geometry/Polygon", "esri/graphic", "esri/layers/GraphicsLayer", "dojo/domReady!"], function(Map, Polygon, Graphic, GraphicsLayer) { 

        map = new Map("map", {
          basemap: "topo",  //For full list of pre-defined basemaps, navigate to http://arcg.is/1JVo6Wd
          center: [-79.4, 43.7], // longitude, latitude
          zoom: 12
        });


      var polygonJson = {"geometry":{"rings":[[[-8837787,5416221],[-8838537,5415746],[-8839111,5417691],[-8839103,5417714],[-8838864,5417778],[-8839026,5418347],[-8839035,5418440],[-8839288,5418366],[-8839422,5418853],[-8839398,5418828],[-8839097,5418694],[-8838549,5418494],[-8838421,5418456],[-8838334,5418465],[-8838191,5417553],[-8837787,5416221]]], "spatialReference":{"wkid":102100,"latestWkid":3857}}, "symbol":{"color":[0,0,0,64],"outline":{"color":[0,0,0,255],
    "width":1,"type":"esriSLS","style":"esriSLSSolid"},
    "type":"esriSFS","style":"esriSFSSolid"}}; 
      //var polygon = new Polygon(polygonJson);

      //map.enableMapNavigation();
      // map.addLayer(new GraphicsLayer());

      var graphic = new Graphic(polygonJson);
      
      map.on("load", function(){
        map.graphics.add(graphic);
      });
      
      

    });

      
    </script>
	</head>
	<body ng-app="results">
<!-- begin template -->
<div class="navbar navbar-custom navbar-fixed-top">
 <div class="navbar-header"><a class="navbar-brand" href="#"><img src="/images/settlr2.png" height="40px" width="100px"></a>
      <a class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="/">Search Again</a></li>
        <li>&nbsp;</li>
      </ul>
      
    </div>
</div>


<div id="map"></div>
<div class="container-fluid" id="main" ng-controller="MapView">
  <div class="row">
  	<div class="col-xs-8" id="left">
    
      <h2>Your Neighbourhood Matches</h2>
      
      <!-- item list -->
      <div ng-repeat="hood in hoods">
        <div class="panel panel-default">
          <div class="panel-heading"><a href="" ng-click="$parent.selectedHood = hood.nid">{[ hood.title ]}</a></div>
        </div>
        <p>{[ hood.score ]}</p>
        <table class="table" ng-show="$parent.selectedHood === hood.nid">
          <tr>
            <th>Factor</th>
            <th>Value</th>
            <th>Trend</th>
          </tr>
          <tr ng-repeat="score in hood.scores">
            <td>{[score.category]}</td>
            <td>{[score.value]}</td>
            <td ng-if="score.delta > 0"><span class="glyphicon glyphicon-triangle-top up-green"></span></td>
            <td ng-if="!score.delta || score.delta == 0"><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></td>
            <td ng-if="score.delta < 0"><span class="glyphicon glyphicon-triangle-bottom down-red" aria-hidden="true"></span></td>
          </tr>
        </table>
        <hr>
      </div>
      
    </div>
    <div class="col-xs-4"></div>
    
  </div>
</div>
<!-- end template -->

	<!-- script references -->
		<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
		<!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous  ">
    </script>
		<script src="http://maps.googleapis.com/maps/api/js?sensor=false&extension=.js&output=embed"></script>
		<script src="../javascript/scripts.js"></script>
	</body>
</html>
